{"dependencies":[{"name":"/home/huyhuy17-site/WebstormProjects/project.huyhuy17.xyz/node_modules/@feathersjs/socketio/package.json","includedInParent":true,"mtime":1575012564461},{"name":"debug","loc":{"line":1,"column":22},"parent":"/home/huyhuy17-site/WebstormProjects/project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","resolved":"/home/huyhuy17-site/WebstormProjects/project.huyhuy17.xyz/node_modules/debug/src/browser.js"}],"generated":{"js":"var _this = this;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar debug = require('debug')('@feathersjs/socketio/middleware');\n\nexports.disconnect = function (app, getParams) {\n  return function (socket, next) {\n    socket.once('disconnect', function () {\n      return app.emit('disconnect', getParams(socket));\n    });\n    next();\n  };\n};\n\nexports.params = function (app, socketMap) {\n  return function (socket, next) {\n    socket.feathers = {\n      provider: 'socketio',\n      headers: socket.handshake.headers\n    };\n\n    socketMap.set(socket.feathers, socket);\n\n    next();\n  };\n};\n\nexports.authentication = function (app, getParams) {\n  var settings = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return function (socket, next) {\n    var service = app.defaultAuthentication ? app.defaultAuthentication(settings.service) : null;\n\n    if (service === null) {\n      return next();\n    }\n\n    var { authStrategies = [] } = service.configuration;\n\n    if (authStrategies.length === 0) {\n      return next();\n    }\n\n    service.parse.apply(service, [socket.handshake, null].concat(_toConsumableArray(authStrategies))).then(function _callee(authentication) {\n      return regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!authentication) {\n                _context.next = 5;\n                break;\n              }\n\n              debug('Parsed authentication from HTTP header', authentication);\n              socket.feathers.authentication = authentication;\n              _context.next = 5;\n              return regeneratorRuntime.awrap(service.create(authentication, {\n                provider: 'socketio',\n                connection: getParams(socket)\n              }));\n\n            case 5:\n\n              next();\n\n            case 6:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, null, _this);\n    }).catch(next);\n  };\n};","map":{"mappings":[{"generated":{"line":5,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":1,"column":0}},{"name":"debug","generated":{"line":5,"column":4},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":1,"column":6}},{"name":"require","generated":{"line":5,"column":12},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":1,"column":14}},{"generated":{"line":5,"column":20},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":1,"column":22}},{"generated":{"line":5,"column":27},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":1,"column":14}},{"generated":{"line":5,"column":29},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":1,"column":31}},{"generated":{"line":5,"column":62},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":1,"column":14}},{"generated":{"line":5,"column":63},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":1,"column":0}},{"name":"exports","generated":{"line":7,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":0}},{"name":"disconnect","generated":{"line":7,"column":8},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":8}},{"generated":{"line":7,"column":18},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":0}},{"generated":{"line":7,"column":21},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":21}},{"name":"app","generated":{"line":7,"column":31},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":22}},{"generated":{"line":7,"column":34},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":21}},{"name":"getParams","generated":{"line":7,"column":36},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":27}},{"generated":{"line":7,"column":45},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":21}},{"generated":{"line":8,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":21}},{"generated":{"line":8,"column":9},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":41}},{"name":"socket","generated":{"line":8,"column":19},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":42}},{"generated":{"line":8,"column":25},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":41}},{"name":"next","generated":{"line":8,"column":27},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":50}},{"generated":{"line":8,"column":31},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":41}},{"generated":{"line":8,"column":33},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":59}},{"name":"socket","generated":{"line":9,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":2}},{"name":"once","generated":{"line":9,"column":11},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":9}},{"generated":{"line":9,"column":15},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":2}},{"generated":{"line":9,"column":16},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":14}},{"generated":{"line":9,"column":28},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":2}},{"generated":{"line":9,"column":30},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":28}},{"generated":{"line":10,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":28}},{"name":"app","generated":{"line":10,"column":13},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":34}},{"name":"emit","generated":{"line":10,"column":17},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":38}},{"generated":{"line":10,"column":21},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":34}},{"generated":{"line":10,"column":22},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":43}},{"generated":{"line":10,"column":34},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":34}},{"name":"getParams","generated":{"line":10,"column":36},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":57}},{"name":"socket","generated":{"line":10,"column":46},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":67}},{"generated":{"line":10,"column":52},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":57}},{"generated":{"line":10,"column":53},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":34}},{"generated":{"line":10,"column":54},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":28}},{"generated":{"line":11,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":28}},{"generated":{"line":11,"column":5},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":4,"column":2}},{"name":"next","generated":{"line":12,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":5,"column":2}},{"generated":{"line":13,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":6,"column":1}},{"generated":{"line":13,"column":3},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":21}},{"generated":{"line":14,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":21}},{"generated":{"line":14,"column":1},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":3,"column":0}},{"name":"exports","generated":{"line":16,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":0}},{"name":"params","generated":{"line":16,"column":8},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":8}},{"generated":{"line":16,"column":14},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":0}},{"generated":{"line":16,"column":17},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":17}},{"name":"app","generated":{"line":16,"column":27},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":18}},{"generated":{"line":16,"column":30},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":17}},{"name":"socketMap","generated":{"line":16,"column":32},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":23}},{"generated":{"line":16,"column":41},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":17}},{"generated":{"line":17,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":17}},{"generated":{"line":17,"column":9},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":37}},{"name":"socket","generated":{"line":17,"column":19},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":38}},{"generated":{"line":17,"column":25},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":37}},{"name":"next","generated":{"line":17,"column":27},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":46}},{"generated":{"line":17,"column":31},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":37}},{"generated":{"line":17,"column":33},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":55}},{"name":"socket","generated":{"line":18,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":9,"column":2}},{"name":"feathers","generated":{"line":18,"column":11},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":9,"column":9}},{"generated":{"line":18,"column":19},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":9,"column":2}},{"generated":{"line":18,"column":22},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":9,"column":20}},{"name":"provider","generated":{"line":19,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":10,"column":4}},{"generated":{"line":19,"column":16},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":10,"column":14}},{"generated":{"line":19,"column":26},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":9,"column":20}},{"name":"headers","generated":{"line":20,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":11,"column":4}},{"name":"socket","generated":{"line":20,"column":15},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":11,"column":13}},{"name":"handshake","generated":{"line":20,"column":22},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":11,"column":20}},{"generated":{"line":20,"column":31},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":11,"column":13}},{"name":"headers","generated":{"line":20,"column":32},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":11,"column":30}},{"generated":{"line":21,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":9,"column":20}},{"generated":{"line":21,"column":5},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":9,"column":2}},{"name":"socketMap","generated":{"line":23,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":14,"column":2}},{"name":"set","generated":{"line":23,"column":14},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":14,"column":12}},{"generated":{"line":23,"column":17},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":14,"column":2}},{"name":"socket","generated":{"line":23,"column":18},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":14,"column":16}},{"name":"feathers","generated":{"line":23,"column":25},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":14,"column":23}},{"generated":{"line":23,"column":33},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":14,"column":2}},{"name":"socket","generated":{"line":23,"column":35},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":14,"column":33}},{"generated":{"line":23,"column":41},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":14,"column":2}},{"name":"next","generated":{"line":25,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":16,"column":2}},{"generated":{"line":26,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":17,"column":1}},{"generated":{"line":26,"column":3},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":17}},{"generated":{"line":27,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":17}},{"generated":{"line":27,"column":1},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":8,"column":0}},{"name":"exports","generated":{"line":29,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":0}},{"name":"authentication","generated":{"line":29,"column":8},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":8}},{"generated":{"line":29,"column":22},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":0}},{"generated":{"line":29,"column":25},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"name":"app","generated":{"line":29,"column":35},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":26}},{"generated":{"line":29,"column":38},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"name":"getParams","generated":{"line":29,"column":40},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":31}},{"generated":{"line":29,"column":49},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"generated":{"line":30,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"name":"settings","generated":{"line":30,"column":6},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":42}},{"generated":{"line":30,"column":14},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"generated":{"line":30,"column":85},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":53}},{"generated":{"line":30,"column":87},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"generated":{"line":31,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"generated":{"line":31,"column":9},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":60}},{"name":"socket","generated":{"line":31,"column":19},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":61}},{"generated":{"line":31,"column":25},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":60}},{"name":"next","generated":{"line":31,"column":27},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":69}},{"generated":{"line":31,"column":31},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":60}},{"generated":{"line":31,"column":33},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":78}},{"generated":{"line":32,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":2}},{"name":"service","generated":{"line":32,"column":8},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":8}},{"name":"app","generated":{"line":32,"column":18},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":18}},{"name":"defaultAuthentication","generated":{"line":32,"column":22},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":22}},{"generated":{"line":32,"column":43},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":18}},{"name":"app","generated":{"line":32,"column":46},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":46}},{"name":"defaultAuthentication","generated":{"line":32,"column":50},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":50}},{"generated":{"line":32,"column":71},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":46}},{"name":"settings","generated":{"line":32,"column":72},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":72}},{"name":"service","generated":{"line":32,"column":81},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":81}},{"generated":{"line":32,"column":88},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":46}},{"generated":{"line":32,"column":89},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":18}},{"generated":{"line":32,"column":92},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":92}},{"generated":{"line":32,"column":96},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":20,"column":2}},{"generated":{"line":34,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":22,"column":2}},{"name":"service","generated":{"line":34,"column":8},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":22,"column":6}},{"generated":{"line":34,"column":20},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":22,"column":18}},{"generated":{"line":34,"column":24},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":22,"column":2}},{"generated":{"line":34,"column":26},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":22,"column":24}},{"generated":{"line":35,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":23,"column":4}},{"name":"next","generated":{"line":35,"column":13},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":23,"column":11}},{"generated":{"line":35,"column":19},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":23,"column":4}},{"generated":{"line":36,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":24,"column":3}},{"generated":{"line":38,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":26,"column":2}},{"generated":{"line":38,"column":8},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":26,"column":8}},{"name":"authStrategies","generated":{"line":38,"column":10},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":26,"column":10}},{"generated":{"line":38,"column":27},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":26,"column":27}},{"generated":{"line":38,"column":29},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":26,"column":8}},{"name":"service","generated":{"line":38,"column":34},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":26,"column":34}},{"name":"configuration","generated":{"line":38,"column":42},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":26,"column":42}},{"generated":{"line":38,"column":55},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":26,"column":2}},{"generated":{"line":40,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":28,"column":2}},{"name":"authStrategies","generated":{"line":40,"column":8},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":28,"column":6}},{"name":"length","generated":{"line":40,"column":23},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":28,"column":21}},{"generated":{"line":40,"column":29},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":28,"column":6}},{"generated":{"line":40,"column":34},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":28,"column":32}},{"generated":{"line":40,"column":35},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":28,"column":2}},{"generated":{"line":40,"column":37},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":28,"column":35}},{"generated":{"line":41,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":29,"column":4}},{"name":"next","generated":{"line":41,"column":13},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":29,"column":11}},{"generated":{"line":41,"column":19},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":29,"column":4}},{"generated":{"line":42,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":30,"column":3}},{"name":"service","generated":{"line":44,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"name":"parse","generated":{"line":44,"column":12},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":10}},{"generated":{"line":44,"column":17},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"name":"socket","generated":{"line":44,"column":34},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":16}},{"name":"handshake","generated":{"line":44,"column":41},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":23}},{"generated":{"line":44,"column":50},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"generated":{"line":44,"column":52},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":34}},{"generated":{"line":44,"column":56},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"name":"authStrategies","generated":{"line":44,"column":84},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":43}},{"generated":{"line":44,"column":98},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"name":"then","generated":{"line":44,"column":102},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":5}},{"generated":{"line":44,"column":106},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"generated":{"line":44,"column":107},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"name":"authentication","generated":{"line":44,"column":124},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":16}},{"generated":{"line":44,"column":138},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":45,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":46,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":47,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":48,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":49,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"name":"authentication","generated":{"line":49,"column":19},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":34,"column":10}},{"generated":{"line":49,"column":33},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":50,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":51,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":52,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"name":"debug","generated":{"line":54,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":35,"column":8}},{"generated":{"line":54,"column":20},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":35,"column":14}},{"generated":{"line":54,"column":60},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":35,"column":8}},{"name":"authentication","generated":{"line":54,"column":62},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":35,"column":56}},{"generated":{"line":54,"column":76},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":35,"column":8}},{"name":"socket","generated":{"line":55,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":36,"column":8}},{"name":"feathers","generated":{"line":55,"column":21},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":36,"column":15}},{"generated":{"line":55,"column":29},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":36,"column":8}},{"name":"authentication","generated":{"line":55,"column":30},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":36,"column":24}},{"generated":{"line":55,"column":44},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":36,"column":8}},{"name":"authentication","generated":{"line":55,"column":47},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":36,"column":41}},{"generated":{"line":55,"column":61},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":36,"column":8}},{"generated":{"line":56,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":57,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"name":"service","generated":{"line":57,"column":46},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":14}},{"name":"create","generated":{"line":57,"column":54},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":22}},{"generated":{"line":57,"column":60},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":14}},{"name":"authentication","generated":{"line":57,"column":61},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":29}},{"generated":{"line":57,"column":75},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":14}},{"generated":{"line":57,"column":77},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":45}},{"name":"provider","generated":{"line":58,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":38,"column":10}},{"generated":{"line":58,"column":26},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":38,"column":20}},{"generated":{"line":58,"column":36},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":45}},{"name":"connection","generated":{"line":59,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":39,"column":10}},{"name":"getParams","generated":{"line":59,"column":28},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":39,"column":22}},{"name":"socket","generated":{"line":59,"column":38},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":39,"column":32}},{"generated":{"line":59,"column":44},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":39,"column":22}},{"generated":{"line":60,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":45}},{"generated":{"line":60,"column":15},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":37,"column":14}},{"generated":{"line":60,"column":16},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":62,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"name":"next","generated":{"line":64,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":43,"column":6}},{"generated":{"line":66,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":67,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":68,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":69,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":70,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":71,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":72,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":33,"column":10}},{"generated":{"line":72,"column":5},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"name":"catch","generated":{"line":72,"column":7},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":44,"column":7}},{"generated":{"line":72,"column":12},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"name":"next","generated":{"line":72,"column":13},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":44,"column":13}},{"generated":{"line":72,"column":17},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":32,"column":2}},{"generated":{"line":73,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":45,"column":1}},{"generated":{"line":73,"column":3},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"generated":{"line":74,"column":0},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":25}},{"generated":{"line":74,"column":1},"source":"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js","original":{"line":19,"column":0}}],"sources":{"project.huyhuy17.xyz/node_modules/@feathersjs/socketio/lib/middleware.js":"const debug = require('debug')('@feathersjs/socketio/middleware');\n\nexports.disconnect = (app, getParams) => (socket, next) => {\n  socket.once('disconnect', () => app.emit('disconnect', getParams(socket)));\n  next();\n};\n\nexports.params = (app, socketMap) => (socket, next) => {\n  socket.feathers = {\n    provider: 'socketio',\n    headers: socket.handshake.headers\n  };\n\n  socketMap.set(socket.feathers, socket);\n\n  next();\n};\n\nexports.authentication = (app, getParams, settings = {}) => (socket, next) => {\n  const service = app.defaultAuthentication ? app.defaultAuthentication(settings.service) : null;\n\n  if (service === null) {\n    return next();\n  }\n\n  const { authStrategies = [] } = service.configuration;\n\n  if (authStrategies.length === 0) {\n    return next();\n  }\n\n  service.parse(socket.handshake, null, ...authStrategies)\n    .then(async authentication => {\n      if (authentication) {\n        debug('Parsed authentication from HTTP header', authentication);\n        socket.feathers.authentication = authentication;\n        await service.create(authentication, {\n          provider: 'socketio',\n          connection: getParams(socket)\n        });\n      }\n\n      next();\n    }).catch(next);\n};\n"},"lineCount":null}},"hash":"1fb33bb593f4fe77d45cb2475046fb79","cacheData":{"env":{}},"id":136}